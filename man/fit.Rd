% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_hyperparameters.R
\name{fit}
\alias{fit}
\title{Fit hyperparameters}
\usage{
fit(
  obs_data,
  nt,
  period,
  n_sites,
  mask_prop = 0.2,
  verbose = FALSE,
  par0 = c(1, 5, 100),
  lower = c(1e-04, 0.8, 52 * 1.5),
  upper = c(2, 10, 500)
)
}
\description{
This helper picks a small group of monitoring sites, hides a few of their
observed counts, and tweaks the model settings until those withheld values
are predicted well.
}
\details{
Under the hood it samples `n_sites` IDs, masks a proportion of their observed
counts, and uses `optim()` with an L-BFGS-B search to maximise the Poisson
log-likelihood of the held-out data, returning the hyperparameters that score
best.
}
